{"mappings":"qhBAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,0BAKA,MAAME,EAAaC,SAASC,cAAc,mBACpCC,EAAWF,SAASC,cAAc,iBAClCE,EAAcH,SAASC,cAAc,kBACrCG,EAAYJ,SAASC,cAAc,gBAGnCI,EAAcC,EAAAC,QAAoBC,KAFhB,qBAGlBC,EAAaH,EAAAC,QAAoBC,KAFjB,mBAItB,IACE,GAAIH,EACFN,EAAWW,UAAUC,IAAI,qBACzBR,EAAYS,mBACV,YACAC,EAAyBR,QAEtB,CACL,MAAMS,EAAO,6DACbX,EAAYY,UAAYD,C,CAG1Bf,EAAWiB,iBAAiB,SAM9B,WAGE,GAFAC,EAAAnB,GAASoB,QAAQC,OAAO,CAAEC,SAAU,cACpChB,EAAUW,UAAY,GAClBV,EACFH,EAASQ,UAAUW,OAAO,qBAC1BtB,EAAWW,UAAUC,IAAI,qBAEzBR,EAAYS,mBACV,YACAC,EAAyBR,IAG3BY,EAAAnB,GAASoB,QAAQG,aACZ,CACL,MAAMP,EAAO,6DACbX,EAAYY,UAAYD,C,KApB1BZ,EAASc,iBAAiB,SAwB5B,WAGE,GAFAC,EAAAnB,GAASoB,QAAQC,OAAO,CAAEC,SAAU,cACpCjB,EAAYY,UAAY,GACpBN,EACFP,EAASQ,UAAUC,IAAI,qBACvBZ,EAAWW,UAAUW,OAAO,qBAC5BjB,EAAUQ,mBACR,YACAC,EAAyBJ,IAG3BQ,EAAAnB,GAASoB,QAAQG,aACZ,CACL,MAAMP,EAAO,4DACbV,EAAUW,UAAYD,C,KArCxB,MAAOQ,GACPC,QAAQC,IAAI,sB,CA6Cd,SAASX,EAAyBY,GAChC,OAAOA,EACJC,KACCC,GACE,kDACoCA,EAAKC,iFAEvCD,EAAKE,qBACGF,EAAKG,qGAEUH,EAAKG,mEAftC,SAAsBL,GACpB,MAAMM,EAAcN,EAAMC,KAAIM,GAAMA,EAAGC,OACvC,OAAOF,EAAYG,OAAS,EAAIH,EAAYI,MAAM,EAAG,GAAKJ,C,CAehDK,CAAaT,EAAKU,QAAQC,KAAK,uBAC7B,EAAAC,EAAAC,SAAQb,EAAKc,sCAAsCC,OACvDf,EAAKgB,cACLC,QAAQ,wDAKbN,KAAK,G","sources":["src/myLibrary-script.js","src/js/templates/queueList.js"],"sourcesContent":["import './js/localstorage.js';\nimport './js/templates/modalFilmCard.js';\nimport './js/templates/queueList';\nimport './js/templates/modalCreators';\n// import './js/templates/paginationMyLibrary';\n","'use strict';\nimport Notiflix from 'notiflix';\nimport localStorageService from '../localstorage';\nimport { getYear } from './apiMainPage';\n\nconst btnWatched = document.querySelector('.js-btn-watched');\nconst btnQueue = document.querySelector('.js-btn-queue');\nconst watchedList = document.querySelector('.watched__list');\nconst queueList = document.querySelector('.queue__list');\nconst STORAGE_WATCHED = 'user-watched-list';\nconst STORAGE_QUEUE = 'user-queue-list';\nconst savedWathed = localStorageService.load(STORAGE_WATCHED);\nconst savedQueue = localStorageService.load(STORAGE_QUEUE);\n\ntry {\n  if (savedWathed) {\n    btnWatched.classList.add('btn-header-active');\n    watchedList.insertAdjacentHTML(\n      'beforeend',\n      createMarkapFromStoradge(savedWathed)\n    );\n  } else {\n    const info = `<span class='vote'>You don't add any film to Wathed</span>`;\n    watchedList.innerHTML = info;\n  }\n\n  btnWatched.addEventListener('click', createWatchedList);\n  btnQueue.addEventListener('click', createQueueList);\n} catch (error) {\n  console.log('Помилка з MyLibrary');\n}\n\nfunction createWatchedList() {\n  Notiflix.Loading.circle({ svgColor: '#ff6b01a1' });\n  queueList.innerHTML = '';\n  if (savedWathed) {\n    btnQueue.classList.remove('btn-header-active');\n    btnWatched.classList.add('btn-header-active');\n\n    watchedList.insertAdjacentHTML(\n      'beforeend',\n      createMarkapFromStoradge(savedWathed)\n    );\n\n    Notiflix.Loading.remove();\n  } else {\n    const info = `<span class='vote'>You don't add any film to Wathed</span>`;\n    watchedList.innerHTML = info;\n  }\n}\n\nfunction createQueueList() {\n  Notiflix.Loading.circle({ svgColor: '#ff6b01a1' });\n  watchedList.innerHTML = '';\n  if (savedQueue) {\n    btnQueue.classList.add('btn-header-active');\n    btnWatched.classList.remove('btn-header-active');\n    queueList.insertAdjacentHTML(\n      'beforeend',\n      createMarkapFromStoradge(savedQueue)\n    );\n\n    Notiflix.Loading.remove();\n  } else {\n    const info = `<span class='vote'>You don't add any film to Queue</span>`;\n    queueList.innerHTML = info;\n  }\n}\n\nfunction renderGenres(array) {\n  const genresNames = array.map(el => el.name);\n  return genresNames.length > 2 ? genresNames.slice(0, 2) : genresNames;\n}\n\nfunction createMarkapFromStoradge(array) {\n  return array\n    .map(\n      film =>\n        `\n\t\t\t<li class=\"film__list-element\" data-id=${film.id}>\n\t\t\t\t<img class=\"film__list-img\" src=\"https://image.tmdb.org/t/p/w500/${\n          film.poster_path\n        }\" alt=\"${film.title}\" width='395'>\n   \t\t\t<div class=\"film__description\">\n   \t\t\t\t<h2 class='film__title'>${film.title}</h2>\n\t   \t\t\t<p class=\"film__title about\">\n          ${renderGenres(film.genres).join(', ')}\n          | ${getYear(film.release_date)} | <span class='vote'>${Number(\n          film.vote_average\n        ).toFixed(1)}</span></p>\n   \t\t\t</div>\n\t\t\t</li>\n      `\n    )\n    .join('');\n}\n"],"names":["parcelRequire","$7Y9D8","$cedccc3c3c80330e$var$btnWatched","document","querySelector","$cedccc3c3c80330e$var$btnQueue","$cedccc3c3c80330e$var$watchedList","$cedccc3c3c80330e$var$queueList","$cedccc3c3c80330e$var$savedWathed","$bOFJ0","default","load","$cedccc3c3c80330e$var$savedQueue","classList","add","insertAdjacentHTML","$cedccc3c3c80330e$var$createMarkapFromStoradge","info","innerHTML","addEventListener","$parcel$interopDefault","Loading","circle","svgColor","remove","error","console","log","array","map","film","id","poster_path","title","genresNames","el","name","length","slice","$cedccc3c3c80330e$var$renderGenres","genres","join","$3Vu8x","getYear","release_date","Number","vote_average","toFixed"],"version":3,"file":"myLibrary.7bf40e86.js.map"}