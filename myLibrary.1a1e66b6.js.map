{"mappings":"iiBAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,0BAKME,EAAaC,SAASC,cAAc,mBACpCC,EAAWF,SAASC,cAAc,iBAClCE,EAAcH,SAASC,cAAc,kBACrCG,EAAYJ,SAASC,cAAc,gBAGnCI,EAAcC,EAAAC,QAAoBC,KAFhB,qBAGlBC,EAAaH,EAAAC,QAAoBC,KAFjB,mBAItB,IACE,GAAIH,EACFN,EAAWW,UAAUC,IAAI,qBACzBR,EAAYS,mBACV,YACAC,EAAyBR,QAEtB,CAELF,EAAYW,UADE,4D,CAIhBf,EAAWgB,iBAAiB,SAM9B,WAGE,GAFAC,EAAAlB,GAASmB,QAAQC,OAAO,CAAEC,SAAU,cACpCf,EAAUU,UAAY,GAClBT,EACFH,EAASQ,UAAUU,OAAO,qBAC1BrB,EAAWW,UAAUC,IAAI,qBAEzBR,EAAYS,mBACV,YACAC,EAAyBR,IAG3BW,EAAAlB,GAASmB,QAAQG,aACZ,CACL,IAAMC,EAAQ,6DACdlB,EAAYW,UAAYO,C,KApB1BnB,EAASa,iBAAiB,SAwB5B,WAGE,GAFAC,EAAAlB,GAASmB,QAAQC,OAAO,CAAEC,SAAU,cACpChB,EAAYW,UAAY,GACpBL,EACFP,EAASQ,UAAUC,IAAI,qBACvBZ,EAAWW,UAAUU,OAAO,qBAC5BhB,EAAUQ,mBACR,YACAC,EAAyBJ,IAG3BO,EAAAlB,GAASmB,QAAQG,aACZ,CACL,IAAMC,EAAQ,4DACdjB,EAAUU,UAAYO,C,KArCxB,MAAOC,GACPC,QAAQC,IAAI,sB,CA6Cd,SAASX,EAAyBY,GAChC,OAAOA,EACJC,KACC,SAAAC,G,MACE,kDAGEC,OAFkCD,EAAKE,GAAG,gFAGlCD,OADRD,EAAKG,YACN,WAEwBF,OAFfD,EAAKI,MAAM,oGAIjBH,OAFqBD,EAAKI,MAAM,+DAG9BH,OAlBd,SAAsBH,GACpB,IAAMO,EAAcP,EAAMC,KAAI,SAAAO,G,OAAMA,EAAGC,I,IACvC,OAAOF,EAAYG,OAAS,EAAIH,EAAYI,MAAM,EAAG,GAAKJ,C,CAehDK,CAAaV,EAAKW,QAAQC,KAAK,MAAM,kBACgBX,QAAnD,EAAAY,EAAAC,SAAQd,EAAKe,cAAc,0BAEpBd,OAF4Ce,OACvDhB,EAAKiB,cACLC,QAAQ,GAAG,oD,IAKhBN,KAAK,G","sources":["src/myLibrary-script.js","src/js/templates/queueList.js"],"sourcesContent":["import './js/localstorage.js';\nimport './js/templates/modalFilmCard.js';\nimport './js/templates/queueList';\nimport './js/templates/modalCreators';\n// import './js/templates/paginationMyLibrary';\n","'use strict';\nimport Notiflix from 'notiflix';\nimport localStorageService from '../localstorage';\nimport { getYear } from './apiMainPage';\n\nconst btnWatched = document.querySelector('.js-btn-watched');\nconst btnQueue = document.querySelector('.js-btn-queue');\nconst watchedList = document.querySelector('.watched__list');\nconst queueList = document.querySelector('.queue__list');\nconst STORAGE_WATCHED = 'user-watched-list';\nconst STORAGE_QUEUE = 'user-queue-list';\nconst savedWathed = localStorageService.load(STORAGE_WATCHED);\nconst savedQueue = localStorageService.load(STORAGE_QUEUE);\n\ntry {\n  if (savedWathed) {\n    btnWatched.classList.add('btn-header-active');\n    watchedList.insertAdjacentHTML(\n      'beforeend',\n      createMarkapFromStoradge(savedWathed)\n    );\n  } else {\n    const info = `<span class='vote'>You don't add any film to Wathed</span>`;\n    watchedList.innerHTML = info;\n  }\n\n  btnWatched.addEventListener('click', createWatchedList);\n  btnQueue.addEventListener('click', createQueueList);\n} catch (error) {\n  console.log('Помилка з MyLibrary');\n}\n\nfunction createWatchedList() {\n  Notiflix.Loading.circle({ svgColor: '#ff6b01a1' });\n  queueList.innerHTML = '';\n  if (savedWathed) {\n    btnQueue.classList.remove('btn-header-active');\n    btnWatched.classList.add('btn-header-active');\n\n    watchedList.insertAdjacentHTML(\n      'beforeend',\n      createMarkapFromStoradge(savedWathed)\n    );\n\n    Notiflix.Loading.remove();\n  } else {\n    const info = `<span class='vote'>You don't add any film to Wathed</span>`;\n    watchedList.innerHTML = info;\n  }\n}\n\nfunction createQueueList() {\n  Notiflix.Loading.circle({ svgColor: '#ff6b01a1' });\n  watchedList.innerHTML = '';\n  if (savedQueue) {\n    btnQueue.classList.add('btn-header-active');\n    btnWatched.classList.remove('btn-header-active');\n    queueList.insertAdjacentHTML(\n      'beforeend',\n      createMarkapFromStoradge(savedQueue)\n    );\n\n    Notiflix.Loading.remove();\n  } else {\n    const info = `<span class='vote'>You don't add any film to Queue</span>`;\n    queueList.innerHTML = info;\n  }\n}\n\nfunction renderGenres(array) {\n  const genresNames = array.map(el => el.name);\n  return genresNames.length > 2 ? genresNames.slice(0, 2) : genresNames;\n}\n\nfunction createMarkapFromStoradge(array) {\n  return array\n    .map(\n      film =>\n        `\n\t\t\t<li class=\"film__list-element\" data-id=${film.id}>\n\t\t\t\t<img class=\"film__list-img\" src=\"https://image.tmdb.org/t/p/w500/${\n          film.poster_path\n        }\" alt=\"${film.title}\" width='395'>\n   \t\t\t<div class=\"film__description\">\n   \t\t\t\t<h2 class='film__title'>${film.title}</h2>\n\t   \t\t\t<p class=\"film__title about\">\n          ${renderGenres(film.genres).join(', ')}\n          | ${getYear(film.release_date)} | <span class='vote'>${Number(\n          film.vote_average\n        ).toFixed(1)}</span></p>\n   \t\t\t</div>\n\t\t\t</li>\n      `\n    )\n    .join('');\n}\n"],"names":["parcelRequire","$6JpON","$514d5b542ed0566f$var$btnWatched","document","querySelector","$514d5b542ed0566f$var$btnQueue","$514d5b542ed0566f$var$watchedList","$514d5b542ed0566f$var$queueList","$514d5b542ed0566f$var$savedWathed","$6Sco9","default","load","$514d5b542ed0566f$var$savedQueue","classList","add","insertAdjacentHTML","$514d5b542ed0566f$var$createMarkapFromStoradge","innerHTML","addEventListener","$parcel$interopDefault","Loading","circle","svgColor","remove","info","error","console","log","array","map","film","concat","id","poster_path","title","genresNames","el","name","length","slice","$514d5b542ed0566f$var$renderGenres","genres","join","$hqNpV","getYear","release_date","Number","vote_average","toFixed"],"version":3,"file":"myLibrary.1a1e66b6.js.map"}